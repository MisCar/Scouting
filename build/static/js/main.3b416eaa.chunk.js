(this.webpackJsonpscouting=this.webpackJsonpscouting||[]).push([[0],{50:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(41),o=n.n(a),i=(n(50),n(5)),s=n(22),u=n(6),l=n(1),d=function(e){var t=e.title,n=e.children;return Object(l.jsxs)("div",{className:"container m-3 bg-gray-100 dark:bg-gray-700 rounded-2xl",dir:"auto",children:[Object(l.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-900 p-3 rounded-t-2xl shadow-xl",children:Object(l.jsx)("h2",{className:"font-black text-2xl",children:t})}),Object(l.jsx)("div",{className:"p-3",children:n})]})};function b(e,t){var n=function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return null===n&&window.localStorage.setItem(e,JSON.stringify(t)),n?JSON.parse(n):t}catch(r){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),r),t}},c=Object(r.useState)(n),a=Object(i.a)(c,2),o=a[0],s=a[1];return Object(r.useEffect)((function(){s(n())}),[]),Object(r.useEffect)((function(){var e=function(){s(n())};return window.addEventListener("storage",e),window.addEventListener("local-storage",e),function(){window.removeEventListener("storage",e),window.removeEventListener("local-storage",e)}}),[]),null===window.localStorage.getItem(e)&&window.localStorage.setItem(e,JSON.stringify(t)),[o,function(t){"undefined"==typeof window&&console.warn("Tried setting localStorage key \u201c".concat(e,"\u201d even though environment is not a client"));try{var n=t instanceof Function?t(o):t;window.localStorage.setItem(e,JSON.stringify(n)),s(n),window.dispatchEvent(new Event("local-storage"))}catch(r){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),r)}}]}var h={info:{en:"Info",he:"\u05de\u05d9\u05d3\u05e2"},update:{en:"Update",he:"\u05e2\u05d3\u05db\u05d5\u05df"},eventCode:{en:"Event Code",he:"\u05e7\u05d5\u05d3 \u05d0\u05d9\u05e8\u05d5\u05e2"},gameNumber:{en:"Game Number",he:"\u05de\u05e1\u05e4\u05e8 \u05de\u05e9\u05d7\u05e7"},teamNumber:{en:"Team Number",he:"\u05de\u05e1\u05e4\u05e8 \u05e7\u05d1\u05d5\u05e6\u05d4"},fetchTeamsFromTBA:{en:"Fetch Teams from TBA",he:"\u05d0\u05d9\u05e1\u05d5\u05e3 \u05e7\u05d1\u05d5\u05e6\u05d5\u05ea \u05de-TBA"},submission:{en:"Submission",he:"\u05d4\u05d2\u05e9\u05d4"},submit:{en:"Submit",he:"\u05e9\u05dc\u05d9\u05d7\u05d4"},reset:{en:"Reset",he:"\u05d0\u05d9\u05e4\u05d5\u05e1"},copy:{en:"Copy",he:"\u05d4\u05e2\u05ea\u05e7\u05d4"},games:{en:"Games",he:"\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"},yes:{en:"Yes",he:"\u05db\u05df"},no:{en:"No",he:"\u05dc\u05d0"},maybe:{en:"Maybe",he:"\u05d0\u05d5\u05dc\u05d9"},missing:{en:"Missing",he:"\u05d7\u05e1\u05e8"},leaderboards:{en:"Leaderboards",he:"\u05e9\u05d9\u05d0\u05d9\u05dd"},in:{en:"in ",he:"\u05d1"}},f={en:"\ud83c\uddfa\ud83c\uddf8",he:"\ud83c\uddee\ud83c\uddf1"},m=["en","he"],j=function(e,t){return h[e][t]},g=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEFAULT_LANGUAGE||"en",x=c.a.createContext(g),O=function(e){var t=b(e.store,null),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(r.useContext)(x);return Object(l.jsx)("button",{className:"button primary p-1 w-28 dark:bg-gray-700 rounded-xl",onClick:function(){return a(null!==c&&!c)},children:j(null===c?"maybe":c?"yes":"no",o)})},v=function(e){var t=e.store,n=e.min,r=e.max,c=b(t,null!==n&&void 0!==n?n:0),a=Object(i.a)(c,2),o=a[0],s=a[1];return Object(l.jsxs)("div",{className:"flex justify-center w-28",dir:"ltr",children:[Object(l.jsx)("button",{className:"bg-lighter text-white rounded-l-xl focus:outline-none font-bold text-xl px-2",onClick:function(){o!==n&&s(o-1)},children:"\u2212"}),Object(l.jsx)("button",{className:"button primary p-1 flex-grow dark:bg-gray-700",onDoubleClick:function(){return s(null!==n&&void 0!==n?n:0)},children:o}),Object(l.jsx)("button",{className:"bg-lighter text-white rounded-r-xl focus:outline-none font-bold text-xl px-2",onClick:function(){o!==r&&s(o+1)},children:"+"})]})},k=function(e){var t=b(e.store,0),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(-1),s=Object(i.a)(o,2),u=s[0],d=s[1];return Object(l.jsx)("button",{className:"button primary p-1 w-28 dark:bg-gray-700 rounded-xl",onClick:function(){var e=Date.now();if(-1===u){var t=c;d(window.setInterval((function(){var n=Date.now();a((n-e)/1e3+t)}),10))}else window.clearInterval(u),d(-1)},onDoubleClick:function(){return a(0)},children:function(e){var t=c.toFixed(2);return c<10&&(t="0"+t),t}()})},p=function(e){var t=e.value,n=e.setValue,r=e.type,c=e.placeholder;return Object(l.jsx)("input",{className:"w-full dark:bg-gray-600 dark:text-white focus:outline-none p-2 my-2 rounded-xl",type:r,placeholder:c,value:t,onChange:function(e){return n(e.target.value)}})},w=function(e){var t=e.store,n=e.type,r=e.placeholder,c=b(t,""),a=Object(i.a)(c,2),o=a[0],s=a[1];return Object(l.jsx)(p,{type:n,placeholder:r,value:o,setValue:s})},S=function(e){var t=e.widgets,n=e.prefix;return Object(l.jsx)("div",{children:t.map((function(e){var t,r=n+" "+e.key;return Object(l.jsxs)("div",{className:"w-100 flex flex-row items-center my-2",dir:"auto",children:[Object(l.jsx)("p",{className:"inline mx-2",children:e.label}),Object(l.jsx)("div",{className:"flex-grow"}),Object(l.jsxs)("div",{className:"w-40 flex justify-center",children:["Boolean"===e.widget&&Object(l.jsx)(O,{store:r}),"Counter"===e.widget&&Object(l.jsx)(v,{store:r,min:null!==(t=e.min)&&void 0!==t?t:0,max:e.max}),"Timer"===e.widget&&Object(l.jsx)(k,{store:r}),"String"===e.widget&&Object(l.jsx)(w,{store:r})]})]},r)}))})},y=function(){var e=Object(u.f)(),t=Object(r.useContext)(x);return Object(l.jsx)(d,{title:j("games",t),children:Object(l.jsxs)("div",{className:"flex flex-col mx-auto items-center",children:[Object(l.jsx)("button",{className:"button primary p-2 my-1 w-28 rounded-xl",onClick:function(){return e.push("/games/snake")},children:"Snake"}),Object(l.jsx)("button",{className:"button primary p-2 my-1 w-28 rounded-xl",onClick:function(){return e.push("/games/simon")},children:"Simon"}),Object(l.jsx)("button",{className:"button primary p-2 my-1 w-28 rounded-xl",onClick:function(){return e.push("/games/leaderboards")},children:j("leaderboards",t)})]})})},B=n(16),N=n.n(B),E=n(15),C=n(24),_=n(43),T=n.n(_),R=["qf1m1","qf2m1","qf3m1","qf4m1","qf1m2","qf2m2","qf3m2","qf4m2","qf1m3","qf2m3","qf3m3","qf4m3"],A=["sf1m1","sf2m1","sf1m2","sf2m2","sf1m3","sf2m3"],P=["f1m1","f1m2","f1m3"],D="1.0.0",L=n(25);n(74),n(77);L.a.apps.length?L.a.app():L.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ID});var I,U=L.a,H=function(e){var t=e.setSchema,n=b("Game Number",0),c=Object(i.a)(n,2),a=c[0],o=c[1],s=b("Team Number",0),u=Object(i.a)(s,2),h=u[0],f=u[1],m=b("Event Code",""),g=Object(i.a)(m,2),O=g[0],v=g[1],k=b("Competition Level","qm"),w=Object(i.a)(k,2),S=w[0],y=w[1],B=Object(r.useState)([]),_=Object(i.a)(B,2),D=_[0],L=_[1],I=Object(r.useContext)(x),H=function(){var e=Object(C.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L([]),""!==O&&0!==a&&""!==S&&null!==O&&null!==a&&null!==S){e.next=3;break}return e.abrupt("return");case 3:t=O+"_",e.t0=S,e.next="pm"===e.t0||"qm"===e.t0?7:"qf"===e.t0?9:"sf"===e.t0?11:"f"===e.t0?13:15;break;case 7:return t+=S+a,e.abrupt("break",15);case 9:return t+=R[Number(a)-1],e.abrupt("break",15);case 11:return t+=A[Number(a)-1],e.abrupt("break",15);case 13:return t+=P[Number(a)-1],e.abrupt("break",15);case 15:return t=t.replaceAll('"',""),e.prev=16,e.next=19,T.a.get("https://www.thebluealliance.com/api/v3/match/"+t,{headers:{"X-TBA-Auth-Key":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TBA_AUTH_KEY}});case 19:n=e.sent,L([].concat(Object(E.a)(n.data.alliances.red.team_keys.map((function(e){return Number(e.substring(3))}))),Object(E.a)(n.data.alliances.blue.team_keys.map((function(e){return Number(e.substring(3))}))))),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),window.alert(e.t1);case 26:case"end":return e.stop()}}),e,null,[[16,23]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(d,{title:j("info",I),children:[Object(l.jsx)("div",{className:"flex flex-col mx-auto items-center",children:Object(l.jsx)("button",{className:"button rounded-xl primary p-2 my-1 w-60",onClick:function(){null!==U.auth().currentUser&&U.firestore().doc("/admin/schema").get().then((function(e){var n=e.data();void 0!==n&&t(n)})),window.caches.open("Scouting").then((function(e){e.keys().then((function(t){t.forEach((function(t){return e.delete(t)}))}))}))},children:j("update",I)})}),Object(l.jsx)(p,{value:O,setValue:v,placeholder:j("eventCode",I)}),Object(l.jsxs)("select",{className:"w-full dark:bg-gray-600 dark:text-white focus:outline-none p-2 my-2 rounded-xl appearance-none",dir:"ltr",onChange:function(e){return y(e.target.value)},value:S,children:[Object(l.jsx)("option",{value:"pm",children:"Practice"}),Object(l.jsx)("option",{value:"qm",children:"Qualifications"}),Object(l.jsx)("option",{value:"qf",children:"Quarterfinals"}),Object(l.jsx)("option",{value:"sf",children:"Semifinals"}),Object(l.jsx)("option",{value:"f",children:"Finals"})]}),Object(l.jsx)(p,{value:0===a?"":a.toString(),setValue:function(e){return o(Number(e))},type:"number",placeholder:j("gameNumber",I)}),0!==D.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"flex justify-center dark:text-white",dir:"ltr",children:[Object(l.jsx)("button",{className:"button py-2 px-5 my-1 mx-3 bg-red-300 dark:bg-red-700 rounded-xl",onClick:function(){return f(D[0])},children:D[0]}),Object(l.jsx)("button",{className:"button py-2 px-5 my-1 mx-3 bg-red-300 dark:bg-red-700 rounded-xl",onClick:function(){return f(D[1])},children:D[1]}),Object(l.jsx)("button",{className:"button py-2 px-5 my-1 mx-3 bg-red-300 dark:bg-red-700 rounded-xl",onClick:function(){return f(D[2])},children:D[2]})]}),Object(l.jsxs)("div",{className:"flex justify-center dark:text-white",dir:"ltr",children:[Object(l.jsx)("button",{className:"button py-2 px-5 my-1 mx-3 bg-blue-300 dark:bg-blue-700 rounded-xl",onClick:function(){return f(D[3])},children:D[3]}),Object(l.jsx)("button",{className:"button py-2 px-5 my-1 mx-3 bg-blue-300 dark:bg-blue-700 rounded-xl",onClick:function(){return f(D[4])},children:D[4]}),Object(l.jsx)("button",{className:"button py-2 px-5 my-1 mx-3 bg-blue-300 dark:bg-blue-700 rounded-xl",onClick:function(){return f(D[5])},children:D[5]})]})]}),Object(l.jsx)(p,{value:0===h?"":h.toString(),setValue:function(e){f(Number(e))},placeholder:j("teamNumber",I)}),Object(l.jsx)("div",{className:"flex flex-col mx-auto items-center",children:Object(l.jsx)("button",{className:"button primary p-2 my-1 w-60 rounded-xl",onClick:H,children:j("fetchTeamsFromTBA",I)})})]})},F=n(19),K=function(e,t){if(void 0===e.sections)return"";var n,r=Object(F.a)(e.sections);try{for(r.s();!(n=r.n()).done;){var c,a=n.value,o=Object(F.a)(a.widgets);try{for(o.s();!(c=o.n()).done;){var i=c.value,s=localStorage.getItem(a.prefix+" "+i.key);if(null===s||"null"===s)return i.key+" "+j("in",t)+a.title}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return""},W=function(e){var t=e.schema,n=Object(r.useContext)(x),c=Object(r.useState)(K(t,n)),a=Object(i.a)(c,2),o=a[0],s=a[1];Object(r.useEffect)((function(){window.addEventListener("storage",(function(){return s(K(t,n))})),window.addEventListener("local-storage",(function(){return s(K(t,n))})),s(K(t,n))}),[t,n]);var u=function(){var e,n={General:{Game:JSON.parse(localStorage.getItem("Game Number")),Level:localStorage.getItem("Competition Level").replaceAll('"',""),Team:JSON.parse(localStorage.getItem("Team Number")),Scouter:null===(e=U.auth().currentUser)||void 0===e?void 0:e.displayName},Event:localStorage.getItem("Event Code").replaceAll('"',"")};if(void 0!==t.sections){var r,c=Object(F.a)(t.sections);try{for(c.s();!(r=c.n()).done;){var a=r.value;n[a.prefix]={};var o,i=Object(F.a)(a.widgets);try{for(i.s();!(o=i.n()).done;){var s=o.value,u=localStorage.getItem(a.prefix+" "+s.key);n[a.prefix][s.key]=JSON.parse(u)}}catch(l){i.e(l)}finally{i.f()}}}catch(l){c.e(l)}finally{c.f()}}return n};return Object(l.jsx)(d,{title:j("submission",n),children:Object(l.jsxs)("div",{className:"flex flex-col mx-auto items-center",children:[""!==o&&Object(l.jsxs)("p",{className:"text-center",children:[j("missing",n)," ",o]}),""===o&&Object(l.jsx)("button",{className:"button primary p-2 m-1 w-28 rounded-xl",onClick:function(){var e=u();U.firestore().collection("data").where("General.Game","==",e.General.Game).where("General.Level","==",e.General.Level).where("General.Team","==",e.General.Team).where("Event","==",e.Event).get().then((function(t){t.empty?U.firestore().collection("data").add(e).then((function(){return window.alert("Submission Received")})).catch((function(e){return window.alert(e)})):t.docs[0].ref.set(e).then((function(){return window.alert("Submission Updated")})).catch((function(e){return window.alert(e)}))}))},children:j("submit",n)}),Object(l.jsx)("button",{className:"button primary p-2 m-1 w-28 rounded-xl",onClick:function(){void 0!==t.sections&&t.sections.forEach((function(e){e.widgets.forEach((function(t){localStorage.removeItem(e.prefix+" "+t.key)}))})),window.dispatchEvent(new Event("local-storage"))},children:j("reset",n)}),Object(l.jsx)("button",{className:"button primary p-2 m-1 w-28 rounded-xl",onClick:function(){navigator.clipboard.writeText(JSON.stringify(u(),null,4))},children:j("copy",n)})]})})},G=function(e){var t=e.schema,n=e.setSchema;return Object(l.jsxs)("div",{className:"w-full flex flex-col justify-center items-center",children:[Object(l.jsx)(H,{setSchema:n}),t.sections&&t.sections.map((function(e){var t;return Object(l.jsx)(d,{title:null!==(t=e.title)&&void 0!==t?t:"Untitled",children:Object(l.jsx)(S,{prefix:e.prefix,widgets:e.widgets})},e.title+" Card")})),Object(l.jsx)(W,{schema:t}),Object(l.jsx)(y,{})]})},q=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){U.firestore().collection("/games").orderBy("snake","desc").get().then((function(e){var t=[];e.docs.forEach((function(e){t.push([e.id,e.data().snake])})),c(t)}))}),[]),Object(l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(l.jsx)("h1",{className:"text-center text-2xl font-bold",children:"Leaderboards"}),Object(l.jsx)(d,{title:"Snake",children:Object(l.jsxs)("table",{className:"w-full text-center",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Score"})]})}),Object(l.jsx)("tbody",{children:n.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e[0]}),Object(l.jsx)("td",{children:e[1]})]},e[0])}))})]})})]})};!function(e){e.Yellow="yellow",e.Blue="blue",e.Red="red",e.Green="green"}(I||(I={}));var M,V,J=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(i.a)(a,2),s=o[0],u=o[1],d=Object(r.useState)(0),b=Object(i.a)(d,2),h=b[0],f=b[1],m=Object(r.useState)(0),j=Object(i.a)(m,2),g=j[0],x=j[1],O=function(){var e=Object(C.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(F.a)(s),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=13;break}return r=n.value,c(r),e.next=8,new Promise((function(e){return setTimeout(e,600)}));case 8:return c(null),e.next=11,new Promise((function(e){return setTimeout(e,200)}));case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:c(void 0);case 22:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){O()}),[s]);var v=function(){var e=Math.floor(4*Math.random()),t=0===e?I.Blue:1===e?I.Green:2===e?I.Red:I.Yellow;u((function(e){return[].concat(Object(E.a)(e),[t])}))};Object(r.useEffect)((function(){new Promise((function(e){return setTimeout(e,1e3)})).then((function(){return v()}))}),[]);var k=function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==s[h]){e.next=12;break}if(!(h+1<s.length)){e.next=5;break}f((function(e){return e+1})),e.next=10;break;case 5:return x((function(e){return e+1})),c(null),e.next=9,new Promise((function(e){return setTimeout(e,1e3)}));case 9:v();case 10:e.next=14;break;case 12:x(0),u([]);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e===n?"bg-".concat(e,"-500"):void 0===n?"bg-".concat(e,"-300 hover:bg-").concat(e,"-500 dark:bg-").concat(e,"-700"):"bg-".concat(e,"-300 dark:bg-").concat(e,"-700");return Object(l.jsx)("button",{className:"button p-1 h-8 w-20 inline-block mr-4 rounded-xl text-transparent "+t,onClick:function(){return k(e)}})};return Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("h1",{className:"text-2xl font-bold",children:"Simon"}),Object(l.jsxs)("h3",{className:"text-xl",children:["Score: ",g]}),Object(l.jsxs)("div",{className:"w-full flex justify-center items-center my-2",children:[p(I.Yellow),p(I.Blue)]}),Object(l.jsxs)("div",{className:"w-full flex justify-center items-center my-2",children:[p(I.Red),p(I.Green)]})]})},Y=n(44),z=n(45);!function(e){e[e.Background=0]="Background",e[e.Food=1]="Food",e[e.Head=2]="Head",e[e.Body=3]="Body"}(M||(M={})),function(e){e[e.Right=1]="Right",e[e.Left=-1]="Left",e[e.Up=2]="Up",e[e.Down=-2]="Down"}(V||(V={}));var Q=[[M.Body,M.Body,M.Head,M.Background,M.Food,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background],[M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background,M.Background]],X=function(){return Q},Z=function(){function e(){Object(Y.a)(this,e),this.score=void 0,this.board=void 0,this.snake=void 0,this.food=void 0,this.direction=void 0,this.size=10,this.setBoard=void 0,this.setScore=void 0,this.score=0,this.snake=[[0,0],[0,1],[0,2]],this.food=[0,4],this.direction=V.Right,this.board=X()}return Object(z.a)(e,[{key:"getBoard",value:function(){for(var e=[],t=0;t<10;t++){for(var n=[],r=0;r<10;r++)n.push(M.Background);e.push(n)}for(var c=0;c<this.snake.length-1;c++)e[this.snake[c][0]][this.snake[c][1]]=M.Body;var a=this.snake[this.snake.length-1];return e[a[0]][a[1]]=M.Head,e[this.food[0]][this.food[1]]=M.Food,e}},{key:"move",value:function(){var e=function(e,t){switch(t){case V.Up:return[e[0]-1,e[1]];case V.Left:return[e[0],e[1]-1];case V.Right:return[e[0],e[1]+1];case V.Down:return[e[0]+1,e[1]]}}(this.snake[this.snake.length-1],this.direction);return e[0]<0||e[1]<0||e[0]>9||e[1]>9||this.board[e[0]][e[1]]===M.Body?(this.finish(),!1):(this.board[e[0]][e[1]]===M.Food?(void 0!==this.setScore&&(this.score++,this.setScore(this.score)),this.snake=[].concat(Object(E.a)(this.snake),[e]),this.moveFoodToNewRandomLocation()):this.snake=[].concat(Object(E.a)(this.snake.slice(1)),[e]),this.board=this.getBoard(),void 0!==this.setBoard&&this.setBoard(this.board),!0)}},{key:"setDirection",value:function(e){this.direction=e}},{key:"setCallbacks",value:function(e,t){var n=this;this.setBoard=e,this.setScore=t,this.setScore(0);!function e(){n.move()&&setTimeout(e,Math.max(1e3-50*n.score,200))}()}},{key:"start",value:function(){this.setCallbacks(this.setBoard,this.setScore)}},{key:"moveFoodToNewRandomLocation",value:function(){for(var e=[Math.floor(10*Math.random()),Math.floor(10*Math.random())];this.board[e[0]][e[1]]!==M.Background;)e=[Math.floor(10*Math.random()),Math.floor(10*Math.random())];this.food=e,this.board=this.getBoard(),void 0!==this.setBoard&&this.setBoard(this.board)}},{key:"finish",value:function(){var e=this;this.board=[],void 0!==this.setBoard&&this.setBoard(this.board);var t=window.localStorage.getItem("Snake High Score");if(null===t||Number(t)<this.score){window.localStorage.setItem("Snake High Score",this.score.toString());var n=U.firestore().doc("/games/"+U.auth().currentUser.displayName);n.get().then((function(t){var r,c;e.score>Number(null!==(r=null===(c=t.data())||void 0===c?void 0:c.snake)&&void 0!==r?r:"0")&&n.set({snake:e.score},{merge:!0})}))}return!1}}]),e}(),$=new Z,ee=function(){var e,t=Object(r.useState)(X),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(0),s=Object(i.a)(o,2),u=s[0],d=s[1],b=Object(r.useState)(V.Right),h=Object(i.a)(b,2),f=h[0],m=h[1];Object(r.useEffect)((function(){$.setCallbacks(a,d)}),[]),Object(r.useEffect)((function(){$.setDirection(f)}),[f]);var j=f===V.Up?0:f===V.Right?90:f===V.Left?270:180,g=function(e){e!==-f&&m(e)};return Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("h1",{className:"text-2xl font-bold",children:"Snake"}),Object(l.jsxs)("h3",{className:"text-xl",children:["Score: ",u]}),0===c.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"text-center button primary p-1 my-2 w-20 rounded-xl",onClick:function(){m(V.Right),($=new Z).setCallbacks(a,d)},children:"Start"}),Object(l.jsxs)("h3",{children:["High Score:"," ",Math.max(Number(null!==(e=window.localStorage.getItem("Snake High Score"))&&void 0!==e?e:"0"),u)]})]}),c.map((function(e,t){return Object(l.jsx)("div",{className:"w-full flex items-center justify-center",children:e.map((function(e,n){return e===M.Background?Object(l.jsx)("div",{className:"inline-block w-10 h-10 bg-gray-200 dark:bg-gray-900"},"Snake Row ".concat(t," Column ").concat(n)):e===M.Food?Object(l.jsx)("div",{className:"w-10 h-10 flex items-center justify-center bg-red-600",children:Object(l.jsx)("img",{src:"/food.png",alt:"head",className:"w-full h-full"})},"Snake Row ".concat(t," Column ").concat(n)):e===M.Head?Object(l.jsx)("div",{className:"w-10 h-10 flex items-center justify-center bg-primary",children:Object(l.jsx)("img",{src:"/icon.png",height:30,width:30,alt:"head",className:"transition duration-100",style:{transform:"rotate(".concat(j,"deg)")}})},"Snake Row ".concat(t," Column ").concat(n)):Object(l.jsx)("div",{className:"inline-block w-10 h-10 bg-primary"},"Snake Row ".concat(t," Column ").concat(n))}))},"Snake Row ".concat(t))})),Object(l.jsxs)("div",{className:"w-full flex flex-col justify-center items-center mt-5",children:[Object(l.jsx)("button",{className:"button primary p-1 w-20 rounded-xl",onClick:function(){return m(V.Up)},children:"\u2191"}),Object(l.jsxs)("div",{className:"w-full flex justify-center items-center my-2",children:[Object(l.jsx)("button",{className:"button primary p-1 w-20 inline-block mr-4 rounded-xl",onClick:function(){return g(V.Left)},children:"\u2190"}),Object(l.jsx)("button",{className:"button primary p-1 w-20 inline-block rounded-xl",onClick:function(){return g(V.Right)},children:"\u2192"})]}),Object(l.jsx)("button",{className:"button primary p-1 w-20 rounded-xl",onClick:function(){return g(V.Down)},children:"\u2193"})]})]})},te=function(e){var t=e.photoURL,n=e.className;if(void 0===t||null===t)return Object(l.jsx)("div",{});return Object(l.jsx)("button",{onClick:function(){window.confirm("Are you sure you want to sign out?")&&U.auth().signOut()},className:"focus:outline-none",children:Object(l.jsx)("img",{src:t,alt:"profile",height:40,width:40,className:"rounded-full"+(void 0===n?"":" "+n)})})},ne=function(e){var t=e.photoURL,n=e.setLanguage,c=Object(r.useState)(0),a=Object(i.a)(c,2),o=a[0],u=a[1],d=Object(r.useContext)(x);return Object(l.jsxs)("div",{className:"h-16 flex-none bg-primary flex items-center",children:[Object(l.jsx)("img",{className:"ml-2 transition duration-300",src:"/icon.png",height:40,width:40,alt:"icon",onClick:function(){return u((function(e){return e+72}))},style:{transform:"rotate(".concat(o,"deg)")}}),Object(l.jsx)(s.b,{to:"/",children:Object(l.jsx)("h1",{className:"ml-3 font-bold text-white text-xl",children:"Scouting"})}),Object(l.jsx)("div",{className:"flex-grow"}),Object(l.jsx)("button",{className:"mr-2 text-3xl focus:outline-none",onClick:function(){return n(m[(m.indexOf(d)+1)%m.length])},children:f[d]}),Object(l.jsx)(te,{photoURL:t,className:"mr-3"})]})},re=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=b("Language",g),o=Object(i.a)(a,2),d=o[0],h=o[1],f=b("Schema",{}),m=Object(i.a)(f,2),j=m[0],O=m[1];U.auth().onAuthStateChanged((function(e){return c(e)}));return Object(r.useEffect)((function(){var e=function(){U.firestore().doc("/admin/version").get().then((function(e){var t;localStorage.setItem("Last Version Check",(new Date).toISOString());var n=null===(t=e.data())||void 0===t?void 0:t.version;null!==n&&n>D&&window.alert("You're using version ".concat(D," but version ").concat(n," is available. Please update!"))})).catch((function(e){}))},t=localStorage.getItem("Last Version Check");(null===t||(new Date).getSeconds()-new Date(t).getSeconds()>86400)&&e()}),[]),Object(l.jsx)(s.a,{children:Object(l.jsx)(x.Provider,{value:d,children:Object(l.jsxs)("div",{className:"h-screen flex flex-col overflow-hidden fixed w-full",children:[Object(l.jsx)(ne,{photoURL:null===n||void 0===n?void 0:n.photoURL,setLanguage:h}),Object(l.jsxs)("div",{className:"flex-grow flex flex-col bg-white dark:bg-gray-800 dark:text-white p-3 overflow-y-auto",children:[null===n&&Object(l.jsx)("div",{className:"h-full w-full flex justify-center items-center",children:Object(l.jsx)("button",{className:"button primary p-2 m-2 rounded-xl",onClick:function(){var e=new U.auth.GoogleAuthProvider;U.auth().signInWithPopup(e)},children:"Sign in with Google"})}),null!==n&&Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{exact:!0,path:"/games/snake",children:Object(l.jsx)(ee,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/games/simon",children:Object(l.jsx)(J,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/games/leaderboards",children:Object(l.jsx)(q,{})}),Object(l.jsx)(u.a,{path:"*",children:Object(l.jsx)(G,{schema:j,setSchema:O})})]})]})]})})})};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(re,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.3b416eaa.chunk.js.map